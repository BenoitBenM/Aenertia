<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Aenertia Robot Control Panel</title>

  <!-- External CSS -->
  <link rel="stylesheet" href="/style.css">

  <!-- MQTT client library -->
  <script src="https://unpkg.com/mqtt/dist/mqtt.min.js"></script>
  <!-- Your client-side logic -->
  <script src="/control.js" defer></script>
</head>
<body>
  <h1>Aenertia Robot Control Panel</h1>

  <!-- Live Camera Feed -->
  <h2>Live Camera</h2>
  <img id="videoStream" src="/video_feed" alt="Live Camera Feed" />

  <!-- PID Tuning -->
  <h2>PID Tuning</h2>
  <form id="innerForm">
    <h3>Inner Loop</h3>
    P: <input type="number" id="innerP" /> 
    D: <input type="number" id="innerD" /> 
    I: <input type="number" id="innerI" /> 
    Setpoint: <input type="number" id="innerSet" />
    <button type="submit" id="submitInner" disabled>Submit Inner PID</button>
  </form>

  <form id="outerForm">
    <h3>Outer Loop</h3>
    P: <input type="number" id="outerP" /> 
    D: <input type="number" id="outerD" /> 
    I: <input type="number" id="outerI" /> 
    Setpoint: <input type="number" id="outerSet" />
    <button type="submit" id="submitOuter" disabled>Submit Outer PID</button>
  </form>

  <!-- Flash LED -->
  <h2>LED Control</h2>
  <button id="flashLedBtn" disabled>Flash LED</button>

  <!-- Directional Control -->
  <h2>Directional Control (Hold to Move)</h2>
  <div id="dpad">
    <img id="up"    src="/assets/images/up.png"    alt="Up"
         onpointerdown="startMove('FORWARD')" onpointerup="stopMove()" onpointerleave="stopMove()" />
    <img id="left"  src="/assets/images/left.png"  alt="Left"
         onpointerdown="startMove('LEFT')"    onpointerup="stopMove()" onpointerleave="stopMove()" />
    <div></div>
    <img id="right" src="/assets/images/right.png" alt="Right"
         onpointerdown="startMove('RIGHT')"  onpointerup="stopMove()" onpointerleave="stopMove()" />
    <img id="down"  src="/assets/images/down.png"  alt="Down"
         onpointerdown="startMove('BACKWARD')" onpointerup="stopMove()" onpointerleave="stopMove()" />
  </div>
</body>
</html>
